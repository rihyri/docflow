<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

  <div layout:fragment="content">
      <h1>로그인</h1>

      <form th:action="@{/login}" method="post">
          <div>
              <label>아이디</label>
              <input type="text"
                     id="memberId"
                     name="memberId"
                     placeholder="아이디를 입력하세요."
                     required />
          </div>

          <div>
              <label>비밀번호</label>
              <input type="password"
                     id="memberPw"
                     name="memberPw"
                     placeholder="비밀번호를 입력하세요."
                     required />
          </div>

          <div class="form-group">
              <label>
                  <input type="checkbox" name="remember-me">로그인 상태 유지
              </label>
          </div>

          <button type="submit">로그인</button>

          <div>
              <a th:href="@{/join}">회원가입</a>
          </div>
      </form>

  </div>

<script layout:fragment="script" th:inline="javascript">

    const urlParams = new URLSearchParams(window.location.search);

    if (urlParams.has('error')) {
        alert('아이디 또는 비밀번호가 일치하지 않습니다.');
    }

    if (urlParams.has('logout')) {
        alert('로그아웃되었습니다.');
    }

</script>

</html>